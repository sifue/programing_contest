<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"> 
<title>再帰を使わず - プログラミングコンテスト勉強会第1回</title>
<script src="http://www.google.com/jsapi"></script>
<script>
	google.load("jquery", "1.6.1");
	google.load("jqueryui", "1.8.13");
</script>
<script type="text/javascript">
$(function(){
	$("#calc").button().click(function(){
		var startTime = new Date();
		// 以下解答
		var a = $.parseJSON($("#ary").val());
		var k = parseInt($("#k").val(), 10);
		var l = a.length;
		var result = false;
		
		// ２のn乗をカウントアップ
		var patternCount = Math.pow(2, l);
		for(var i = 0; i < patternCount; i++){
			var sum = 0
			// 各数を二進数とみて、それぞれのビットフラグが立っていた場合足す
			for(var j = 0; j < l ; j++){
				var bitFlag = ((i >> j) & 1)
				if(bitFlag === 1) sum = sum + a[j];
			}
			
			if(sum === k){
				result = true;
				break;
			}
		}
		// 解答終了
		var time = new Date() - startTime;
		if(result){
			$("#answer_area").text("OK(" + time +"ms)");
		}else{
			$("#answer_area").text("NG(" + time +"ms)");
		}
	});
});
</script>
</head>
<h1>部分和問題 再帰を使わずに、解いてみる</h1>
<input id="ary" type="text" size="100" value="[1,10,49,3,8,13,7,23,60,-500,42,599,45,-23,1,10,49,3,8,13]"></input>
<br>
<input id="k" type="text" size="10" value="10000"></input>
<br>
<button id="calc" >Calc!</button>
<br>
答えは: <span id="answer_area"></span>
<br>
<div><a href="http://d.hatena.ne.jp/sifue">吉村 総一郎</a></div><br>
</body>
</html>